<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <title></title>


    <!--  jquery.min :bilbotheque
      jquery.xml2json:plugin (js object notation)-->


    <link rel="stylesheet" href="css/bootstrap.css" type="text/css"/>
    <meta content="">


    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.xml2json.js"></script>


</head>
<body>
    <input type="text" class="form-control row" id="search" placeholder="Search"/>

    <!--conteneur-->
    <div id="dvContent"></div>


<script>

    //page charg√©e
    $(document).ready(function () {

        // appel ajax
        var request = $.ajax({
            type: "GET",
            url: "info.xml",
            dataType: "xml",
            success: function (xml) {
                //fonction convert xml tp json
                var items = $($.xml2json(xml))[0]['#document']['rss']['channel']['item'];
                console.log(items);
                $(items).each(function (e, item) {
                    var title = item.title;
                    var link = item.link;

                    var description = item.description;
                    var pubDate = item.pubDate;
                    var url = item.enclosure.$.url;

                    $("#dvContent").append('<a class="row users"  href="' + "index2.html?title=" + title + "&link=" +
                            link + "&description=" + description + "&pubDate=" + pubDate +
                            "&url=" + url + '">' + '<img  class="usr_img col-sm-3" src="' + url +
                            '">' + "<div class='usr_inf col-sm-9'> " + "<h2>" + title + "</h2>" + "<p>" + description + "</p>" +
                            "<label class='muted'>" + pubDate + "</label>" + "</div>" + '</a>');
                });

            },
            error: function () {
                alert("The XML File could not be processed correctly.");
            }
        });
    });


    $("#search").on("keyup", function () {
        //valeur input
        var value = $(this).val();
        $("#dvContent a").show();

        $("#dvContent a").each(function (index, item) {
            if ($(item).find('h2').text().toLowerCase().indexOf(value.toLowerCase()) == -1) {
                $(item).hide();
            }
        });
    });


</script>

</body>

<style>

    
</style>
</html>